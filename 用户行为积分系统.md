# Aliana Protocol - 用户行为积分系统 (Activity Points System)

本方案旨在构建一套**高粘性、低通胀**的链下/链上混合积分系统，核心目标是将用户的“短期投机行为”转化为“长期陪伴行为”。

---

## 1. 核心设计理念

**“不只是换币，更是特权”**

如果积分只能兑换 ALI 代币，它本质上只是另一种形式的通胀，且容易被用户攒一波卖掉。
**建议方向**：将积分定义为**生态内的“功能性燃料”**，主打**权益兑换**（如加速、减税、抽奖），让大户和忠诚用户舍不得卖分，必须消耗分来维持高收益。

---

## 2. 积分获取 (Proof of Activity)

采用 **“基础分 + 连击加成”** 模式，强迫用户每日上线。

### 2.1 行为列表

| 行为类型 | 触发条件 | 积分奖励 (示例) | 每日上限 | 目的 |
| :--- | :--- | :--- | :--- | :--- |
| **每日签到** | 点击 DApp "Check-in" 按钮 | 10 pts | 1次 | 维持日活 (DAU) |
| **复投 (Compound)** | 执行一次复投操作 | 50 pts | 3次 | 鼓励复利滚存 |
| **邀请 (Referral)** | 直推用户完成首存 | 100 pts | 5次 | 鼓励拉新 |
| **持仓 (Holding)** | 每持有 1000 ALI 满 24小时 | 1 pts | 无上限 | 奖励大户锁仓 |
| **聊天 (Social)** | 在官方社群发言 (需绑定) | 5 pts | 20 pts | 维持社区热度 |
| **购买配额 (Purchase Quota)** | 成功购买平台内配额（Quota） | 20 pts | 3次 | 鼓励权益消费与留存 |

### 2.2 连击系统 (Streak Multiplier)
*   **规则**：连续 N 天执行“签到”或“复投”。
*   **效果**：
    *   连续 3 天：积分获取 +10%
    *   连续 7 天：积分获取 +20%
    *   连续 30 天：积分获取 +50%
*   **惩罚**：一旦断签，加成归零。这利用了用户的**“损失厌恶”**心理，极大提升留存率。

---

## 3. 积分消耗 (Utility & Burn)

这是系统的灵魂。必须提供**高价值的消耗场景**，让积分成为刚需。

### 3.1 权益类 (高价值 - 建议主推)
*   **收益加速卡 (Yield Booster)**：
    *   *消耗*：1,000 积分
    *   *效果*：未来 24 小时内，所有存单的日化收益率增加 **0.05%**。
*   **减税盾牌 (Tax Shield)**：
    *   *消耗*：2,000 积分
    *   *效果*：下一次提现 (Withdraw) 或复投时，免除或降低 **Tier 1 (4%)** 的燃烧税。
*   **仓位扩容 (Plan Limit Extension)**：
    *   *消耗*：5,000 积分
    *   *效果*：允许在 Plan 1 中额外存入 10% 的额度（突破原有上限）。

### 3.2 娱乐类 (高频消耗)
*   **FOMO 奖券 (Lucky Ticket)**：
    *   *消耗*：100 积分
    *   *效果*：兑换一张当天的 FOMO Lucky Draw 虚拟奖券，增加中奖概率（需合约支持）。
*   **盲盒 (Mystery Box)**：
    *   *消耗*：500 积分
    *   *效果*：随机开出 1~100 ALI，或者“谢谢惠顾”。

### 3.3 兑换类 (保底 - 慎用)
*   **积分换币 (Points to Token)**：
    *   *消耗*：1,000 积分
    *   *效果*：兑换 10 ALI。
    *   *限制*：每月限量兑换，且汇率随全网积分总量浮动（通缩模型）。

---

## 4. 技术实现路径建议

鉴于 Gas 成本，建议采用 **“链下计算 + 链上验证”** 或 **“纯链上轻量级”** 方案。

### 方案 A：中心化积分 (Web2 体验，成本低)
*   **实现**：后端数据库记录积分，前端展示。
*   **兑换**：用户在前端点击兑换“加速卡”，后端调用合约的 `adminSetUserBoost()` 接口赋予特权。
*   **优点**：0 Gas 费，体验丝滑，防刷逻辑容易写。
*   **缺点**：不够去中心化（但在 GameFi 早期完全可接受）。

### 方案 B：纯链上积分 (ERC-20 / SBT)
*   **实现**：发一个不可转移的 ERC-20 Token (SBT) 作为积分。
*   **获取**：每次 `deposit` 或 `compound` 时，合约自动 `mint` 积分。
*   **消耗**：调用合约 `burnPointsForBoost()` 销毁积分并激活权益。
*   **优点**：完全透明，可组合性强。
*   **缺点**：Gas 费高，频繁操作会让用户心疼 Gas。

**推荐选择：方案 A (起步阶段)**。等项目做大了，再空投链上代币替换中心化积分。

---

## 5. 防刷风控 (Anti-Gaming)

1.  **IP/设备指纹限制**：防止一人多号签到。
2.  **资金门槛**：只有当前活跃投资额 (Active Investment) > 100 ALI 的用户，才能开启积分系统。防止 0 撸党。
3.  **冷却时间**：复投任务之间必须间隔 1 小时以上，防止脚本瞬间刷完次数。

---

## 总结

这套系统的核心不在于“白送钱”，而在于**“让用户觉得自己的账号越来越值钱”**。
当一个用户连续签到了 30 天，拥有 +50% 的积分加成，并且攒了能换“减税卡”的积分时，他是绝对不会轻易离开项目的。这就是**粘性**。
